<?xml version="1.0" encoding="UTF-8"?>
<log4j:configuration debug="true">

	<appender name="stdout" class="org.apache.log4j.ConsoleAppender">
		<layout class="org.apache.log4j.PatternLayout">
			<param name="ConversionPattern" value="%d (%F:%L) %-5p %c - %m%n" />
		</layout>
	</appender>

	<appender name="fileout" class="org.apache.log4j.DailyRollingFileAppender">
		<layout class="org.apache.log4j.PatternLayout">
			<param name="ConversionPattern" value="%d [%t] (%F:%L) %-5p %c - %m%n" />
		</layout>
		<param name="File" value="E:/logs/server_log.txt" />
	</appender>

	<appender name="monitorAppender" class="org.apache.log4j.DailyRollingFileAppender">
		<layout class="org.apache.log4j.PatternLayout">
			<param name="ConversionPattern" value="%m%n" />
		</layout>
		<param name="DatePattern" value="'.'yyyyMMddHH" />
		<param name="File" value="mtlogs/mt_log.txt" />
		<param name="BufferedIO" value="true" />
		<!-- 8K为一个写单元 -->
		<param name="BufferSize" value="8192" />
	</appender>

	<appender name="async" class="org.apache.log4j.AsyncAppender">
		<appender-ref ref="monitorAppender" />
	</appender>

	<root>
		<priority value="info" />
		<appender-ref ref="stdout" />
	</root>
	<logger name="monitorLogger" additivity="false">
		<level value="info" />
		<appender-ref ref="async" />
	</logger>
</log4j:configuration>